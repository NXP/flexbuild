From 80232a34db9ee8f4e2e458f05212ab2d11770e09 Mon Sep 17 00:00:00 2001
From: Yuantian Tang <andy.tang@nxp.com>
Date: Mon, 17 Nov 2025 22:30:48 -0800
Subject: [PATCH] Enable bootflow advanced feature

Signed-off-by: Andy Tang <andy.tang@nxp.com>
---
 arch/arm/mach-imx/imx8/Kconfig | 2 ++
 include/configs/imx8qm_mek.h   | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/arch/arm/mach-imx/imx8/Kconfig b/arch/arm/mach-imx/imx8/Kconfig
index f274b7819b2..686dec84853 100644
--- a/arch/arm/mach-imx/imx8/Kconfig
+++ b/arch/arm/mach-imx/imx8/Kconfig
@@ -34,6 +34,8 @@ config IMX8QM
 	select SUPPORT_SPL
 	select LMB_ARCH_MEM_MAP
 	select SPL_RECOVER_DATA_SECTION if SPL
+	imply BOOTSTD_FULL
+	imply BOOTSTD_BOOTCOMMAND
 	bool
 
 config IMX8QXP
diff --git a/include/configs/imx8qm_mek.h b/include/configs/imx8qm_mek.h
index 30d8685d19b..5ebc5c07159 100644
--- a/include/configs/imx8qm_mek.h
+++ b/include/configs/imx8qm_mek.h
@@ -90,7 +90,7 @@
 	"mmcautodetect=yes\0" \
 	"mmcargs=setenv bootargs console=${console},${baudrate} earlycon root=${mmcroot} " \
 		"cpufreq.default_governor=SCHEDUTIL\0" \
-	"loadbootscript=fatload mmc ${mmcdev}:${mmcpart} ${loadaddr} ${script};\0" \
+	"loadbootscript=ext4load mmc ${mmcdev}:${mmcpart} ${loadaddr} ${script};\0" \
 	"bootscript=echo Running bootscript from mmc ...; " \
 		"source\0" \
 	"loadimage=fatload mmc ${mmcdev}:${mmcpart} ${loadaddr} ${image}\0" \
-- 
2.34.1

